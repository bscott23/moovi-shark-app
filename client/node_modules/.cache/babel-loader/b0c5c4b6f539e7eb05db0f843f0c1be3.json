{"ast":null,"code":"var _jsxFileName = \"/Users/brodyscott/js-projects/moovi-shark-app/client/src/components/DiscoverMovies.js\";\nimport React, { Component } from \"react\";\nimport Card from \"react-bootstrap/Card\";\nimport CardDeck from \"react-bootstrap/CardDeck\";\nimport Button from \"react-bootstrap/Button\";\nimport axios from \"axios\";\n\nclass DiscoverMovies extends Component {\n  constructor() {\n    super();\n\n    this.mapMovieCards = () => {\n      const z = this.state.discover.length - this.state.discover.length % 3;\n      const cardsPerDeck = 3;\n      const cardDecks = []; // ultimately want an array of card decks\n\n      for (let i = 0; i < z; i += cardsPerDeck) {\n        let movieSubset = this.state.discover.slice(i, i + cardsPerDeck);\n        let cardSubset = movieSubset.map(movie => React.createElement(Card, {\n          style: {\n            width: \"18rem\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }, React.createElement(Card.Img, {\n          variant: \"top\",\n          src: \"https://image.tmdb.org/t/p/w500\".concat(movie.poster_path),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }), React.createElement(Card.Body, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }, React.createElement(Card.Title, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }, movie.title), React.createElement(Card.Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, movie.overview), React.createElement(Button, {\n          variant: \"outline-primary\",\n          onClick: () => this.onAddMovie(movie),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, \"Add\"))));\n        const cardDeck = React.createElement(CardDeck, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, cardSubset);\n        cardDecks.push(cardDeck);\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, cardDecks);\n    };\n\n    this.onAddMovie = this.onAddMovie.bind(this); //this.onSubmit = this.onSubmit.bind(this);\n\n    this.state = {\n      isLoading: true,\n      discover: {},\n      selectedMovie: {\n        title: \"\",\n        overview: \"\",\n        genres: [],\n        release_date: \"\",\n        poster_path: \"\",\n        movie_db_id: 0\n      }\n    };\n  }\n\n  async componentDidMount() {\n    let res = await fetch(\"http://localhost:5000/discover/\");\n    this.setState({\n      discover: await res.json(),\n      isLoading: false\n    });\n  }\n\n  onAddMovie(movie) {\n    //e.preventDefault();\n    const newMovie = {\n      username: \"bscott23\",\n      //need to add username functionality\n      title: movie.title,\n      overview: movie.overview,\n      genres: movie.genres,\n      release_date: movie.release_date,\n      poster_path: movie.poster_path,\n      movie_db_id: movie.movie_db_id\n    };\n    console.log(newMovie);\n    axios.post(\"http://localhost:5000/watchlist/add\", newMovie).then(res => console.log(res.data)); // window.location = '/watchlist'; // can return users to watchlist\n    // this.setState({\n    //   username: \"\"\n    // });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Content: Discover page for new movies\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, this.state.isLoading ? React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"Loading...\") : this.mapMovieCards()), React.createElement(\"br\", {\n      style: {\n        \"line-height\": 50\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      textAlign: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"primary\",\n      block: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"View Watchlist\")), React.createElement(\"br\", {\n      style: {\n        \"line-height\": 50\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default DiscoverMovies;","map":{"version":3,"sources":["/Users/brodyscott/js-projects/moovi-shark-app/client/src/components/DiscoverMovies.js"],"names":["React","Component","Card","CardDeck","Button","axios","DiscoverMovies","constructor","mapMovieCards","z","state","discover","length","cardsPerDeck","cardDecks","i","movieSubset","slice","cardSubset","map","movie","width","poster_path","title","overview","onAddMovie","cardDeck","push","bind","isLoading","selectedMovie","genres","release_date","movie_db_id","componentDidMount","res","fetch","setState","json","newMovie","username","console","log","post","then","data","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Card from \"react-bootstrap/Card\";\nimport CardDeck from \"react-bootstrap/CardDeck\";\nimport Button from \"react-bootstrap/Button\";\nimport axios from \"axios\";\n\nclass DiscoverMovies extends Component {\n  constructor() {\n    super();\n    this.onAddMovie = this.onAddMovie.bind(this);\n    //this.onSubmit = this.onSubmit.bind(this);\n    this.state = {\n      isLoading: true,\n      discover: {},\n      selectedMovie: {\n        title: \"\",\n        overview: \"\",\n        genres: [],\n        release_date: \"\",\n        poster_path: \"\",\n        movie_db_id: 0,\n      }\n    };\n  }\n\n  async componentDidMount() {\n    let res = await fetch(\"http://localhost:5000/discover/\");\n    this.setState({ discover: await res.json(), isLoading: false });\n  }\n\n  onAddMovie(movie) {\n    //e.preventDefault();\n\n    const newMovie = {\n        username: \"bscott23\", //need to add username functionality\n        title: movie.title,\n        overview: movie.overview,\n        genres: movie.genres,\n        release_date: movie.release_date,\n        poster_path: movie.poster_path,\n        movie_db_id: movie.movie_db_id,\n    };\n\n    console.log(newMovie);\n    \n    axios\n      .post(\"http://localhost:5000/watchlist/add\", newMovie)\n      .then(res => console.log(res.data));\n\n\n    // window.location = '/watchlist'; // can return users to watchlist\n\n    // this.setState({\n    //   username: \"\"\n    // });\n  }\n\n  mapMovieCards = () => {\n\n    const z = this.state.discover.length - this.state.discover.length % 3;\n    const cardsPerDeck = 3;\n    const cardDecks = [];\n\n    // ultimately want an array of card decks\n\n    for (let i = 0; i < z; i += cardsPerDeck) {\n      let movieSubset = this.state.discover.slice(i, i + cardsPerDeck);\n      let cardSubset = movieSubset.map(movie => (\n        <Card style={{ width: \"18rem\" }}>\n              <Card.Img variant=\"top\" src={`https://image.tmdb.org/t/p/w500${movie.poster_path}`}/>\n              <Card.Body>\n              <Card.Title>{movie.title}</Card.Title>\n              <Card.Text>{movie.overview}</Card.Text>\n              <Button variant=\"outline-primary\" onClick={() => this.onAddMovie(movie)}>Add</Button>\n              </Card.Body>\n              </Card>\n      ))\n\n      const cardDeck = (<CardDeck>{cardSubset}</CardDeck>);\n\n      cardDecks.push(cardDeck);\n    }\n\n    return (\n      <div>\n        {cardDecks}\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        <p>Content: Discover page for new movies</p>\n        <div>{this.state.isLoading ? (\n            <h1>Loading...</h1>\n          ) : this.mapMovieCards()}</div>\n        <br style = {{\"line-height\":50}}></br>\n        <div textAlign=\"center\"><Button variant=\"primary\" block>View Watchlist</Button></div>\n        <br style = {{\"line-height\":50}}></br>\n      </div>\n    );\n  }\n}\n\nexport default DiscoverMovies;"]},"metadata":{},"sourceType":"module"}