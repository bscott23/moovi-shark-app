{"ast":null,"code":"var _jsxFileName = \"/Users/brodyscott/js-projects/moovi-shark-app/client/src/components/DiscoverMovies.js\";\nimport React, { Component } from \"react\";\nimport Card from \"react-bootstrap/Card\";\nimport CardDeck from \"react-bootstrap/CardDeck\";\nimport Button from \"react-bootstrap/Button\";\nimport axios from \"axios\";\n\nclass DiscoverMovies extends Component {\n  constructor() {\n    super();\n\n    this.mapMovieCards = () => {\n      const z = this.state.discover.length - this.state.discover.length % 3;\n      const cardsPerDeck = 3;\n      const cardDecks = []; // ultimately want an array of card decks\n\n      for (let i = 0; i < z; i += cardsPerDeck) {\n        let movieSubset = this.state.discover.slice(i, i + cardsPerDeck);\n        let cardSubset = movieSubset.map(movie => React.createElement(Card, {\n          style: {\n            width: \"18rem\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        }, React.createElement(Card.Img, {\n          variant: \"top\",\n          src: \"https://image.tmdb.org/t/p/w500\".concat(movie.poster_path),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }), React.createElement(Card.Body, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }, React.createElement(Card.Title, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, movie.title), React.createElement(Card.Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, movie.overview), React.createElement(Button, {\n          variant: \"outline-primary\",\n          onClick: this.onAddMovie,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }, \"Add\"))));\n        const cardDeck = React.createElement(CardDeck, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, cardSubset);\n        cardDecks.push(cardDeck);\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, cardDecks);\n    };\n\n    this.onAddMovie = this.onAddMovie.bind(this); //this.onSubmit = this.onSubmit.bind(this);\n\n    this.state = {\n      isLoading: true,\n      discover: {}\n    };\n  }\n\n  async componentDidMount() {\n    let res = await fetch(\"http://localhost:5000/discover/\");\n    this.setState({\n      discover: await res.json(),\n      isLoading: false\n    });\n  }\n\n  onAddMovie(e) {\n    //e.preventDefault();\n    const newMovie = {\n      username: \"bscott23\",\n      //need to add username functionality\n      title: this.state.discover.title,\n      overview: this.state.discover.overview,\n      genres: this.state.discover.genres,\n      release_date: this.state.discover.release_date,\n      poster_path: this.state.discover.poster_path,\n      movie_db_id: this.state.discover.movie_db_id\n    };\n    console.log(newMovie);\n    axios.post(\"http://localhost:5000/watchlist/add\", newMovie).then(res => console.log(res.data)); // this.setState({\n    //   username: \"\"\n    // });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"Content: Discover page for new movies\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, this.state.isLoading ? React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"Loading...\") : this.mapMovieCards()), React.createElement(\"br\", {\n      style: {\n        \"line-height\": 50\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      textAlign: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"primary\",\n      block: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"View Watchlist\")), React.createElement(\"br\", {\n      style: {\n        \"line-height\": 50\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default DiscoverMovies;","map":{"version":3,"sources":["/Users/brodyscott/js-projects/moovi-shark-app/client/src/components/DiscoverMovies.js"],"names":["React","Component","Card","CardDeck","Button","axios","DiscoverMovies","constructor","mapMovieCards","z","state","discover","length","cardsPerDeck","cardDecks","i","movieSubset","slice","cardSubset","map","movie","width","poster_path","title","overview","onAddMovie","cardDeck","push","bind","isLoading","componentDidMount","res","fetch","setState","json","e","newMovie","username","genres","release_date","movie_db_id","console","log","post","then","data","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Card from \"react-bootstrap/Card\";\nimport CardDeck from \"react-bootstrap/CardDeck\";\nimport Button from \"react-bootstrap/Button\";\nimport axios from \"axios\";\n\nclass DiscoverMovies extends Component {\n  constructor() {\n    super();\n    this.onAddMovie = this.onAddMovie.bind(this);\n    //this.onSubmit = this.onSubmit.bind(this);\n    this.state = {\n      isLoading: true,\n      discover: {}\n    };\n  }\n\n  async componentDidMount() {\n    let res = await fetch(\"http://localhost:5000/discover/\");\n    this.setState({ discover: await res.json(), isLoading: false });\n  }\n\n  onAddMovie(e) {\n    //e.preventDefault();\n    const newMovie = {\n        username: \"bscott23\", //need to add username functionality\n        title: this.state.discover.title,\n        overview: this.state.discover.overview,\n        genres: this.state.discover.genres,\n        release_date: this.state.discover.release_date,\n        poster_path: this.state.discover.poster_path,\n        movie_db_id: this.state.discover.movie_db_id,\n    };\n\n    console.log(newMovie);\n    \n    axios\n      .post(\"http://localhost:5000/watchlist/add\", newMovie)\n      .then(res => console.log(res.data));\n\n    // this.setState({\n    //   username: \"\"\n    // });\n  }\n\n  mapMovieCards = () => {\n\n    const z = this.state.discover.length - this.state.discover.length % 3;\n    const cardsPerDeck = 3;\n    const cardDecks = [];\n\n    // ultimately want an array of card decks\n\n    for (let i = 0; i < z; i += cardsPerDeck) {\n      let movieSubset = this.state.discover.slice(i, i + cardsPerDeck);\n      let cardSubset = movieSubset.map(movie => (\n        <Card style={{ width: \"18rem\" }}>\n              <Card.Img variant=\"top\" src={`https://image.tmdb.org/t/p/w500${movie.poster_path}`}/>\n              <Card.Body>\n              <Card.Title>{movie.title}</Card.Title>\n              <Card.Text>{movie.overview}</Card.Text>\n              <Button variant=\"outline-primary\" onClick={this.onAddMovie}>Add</Button>\n              </Card.Body>\n              </Card>\n      ))\n\n      const cardDeck = (<CardDeck>{cardSubset}</CardDeck>);\n\n      cardDecks.push(cardDeck);\n    }\n\n    return (\n      <div>\n        {cardDecks}\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        <p>Content: Discover page for new movies</p>\n        <div>{this.state.isLoading ? (\n            <h1>Loading...</h1>\n          ) : this.mapMovieCards()}</div>\n        <br style = {{\"line-height\":50}}></br>\n        <div textAlign=\"center\"><Button variant=\"primary\" block>View Watchlist</Button></div>\n        <br style = {{\"line-height\":50}}></br>\n      </div>\n    );\n  }\n}\n\nexport default DiscoverMovies;"]},"metadata":{},"sourceType":"module"}